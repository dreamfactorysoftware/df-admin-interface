# ==============================================================================
# DREAMFACTORY ADMIN INTERFACE - ENVIRONMENT CONFIGURATION
# ==============================================================================
# Next.js 15.1+ Environment Variables Template
# 
# This file serves as a template for environment variable configuration in the
# DreamFactory Admin Interface React/Next.js application. Copy this file to 
# .env.local for development or .env.production for production deployment.
#
# IMPORTANT: Client vs Server Variable Scoping
# - NEXT_PUBLIC_* variables are exposed to the browser client-side
# - Variables without NEXT_PUBLIC_ prefix are server-only and secure
# - Never expose sensitive credentials with NEXT_PUBLIC_ prefix
# ==============================================================================

# ==============================================================================
# APPLICATION ENVIRONMENT
# ==============================================================================
# Node.js runtime environment - affects build optimizations and behavior
# Options: development, test, staging, production
NODE_ENV=development

# Application version for tracking and display
# Used in build metadata and runtime diagnostics
NEXT_PUBLIC_VERSION=1.0.0

# Base path for Next.js application routing
# Used when deploying to subdirectories (e.g., /dreamfactory/dist)
NEXT_PUBLIC_BASE_PATH=/dreamfactory/dist

# ==============================================================================
# DREAMFACTORY API INTEGRATION
# ==============================================================================
# Primary DreamFactory Core API endpoint
# This is the main backend API that provides database services, user management,
# and system configuration. Must be accessible from both server and client.
NEXT_PUBLIC_API_URL=http://localhost:80

# Internal API URL for server-side requests
# Used by Next.js API routes and middleware for backend communication
# Should point to the same DreamFactory instance but may use internal networking
INTERNAL_API_URL=http://localhost:80

# DreamFactory API Key for authentication
# Required for accessing DreamFactory services and endpoints
# This is exposed to client for direct API communication
NEXT_PUBLIC_DF_API_KEY=your_dreamfactory_api_key_here

# DreamFactory application name/instance identifier
# Used for multi-tenant deployments or application identification
NEXT_PUBLIC_DF_APP_NAME=admin

# System API endpoints configuration
# These endpoints provide system administration and configuration access
NEXT_PUBLIC_SYSTEM_API_URL=http://localhost:80/api/v2/system
NEXT_PUBLIC_DB_API_URL=http://localhost:80/api/v2

# ==============================================================================
# AUTHENTICATION & SECURITY CONFIGURATION
# ==============================================================================
# JWT Secret for token signing and verification (SERVER ONLY)
# Must be at least 32 characters, use cryptographically secure random string
# Generate with: openssl rand -hex 32
JWT_SECRET=your_jwt_secret_minimum_32_characters_required_cryptographically_secure

# CSRF Protection Secret (SERVER ONLY)
# Used for Cross-Site Request Forgery token generation and validation
# Must be at least 32 characters for security
CSRF_SECRET=your_csrf_secret_minimum_32_characters_required_for_security

# Session Secret for secure session handling (SERVER ONLY)
# Used by Next.js middleware for session encryption and validation
# Must be at least 32 characters
SESSION_SECRET=your_session_secret_minimum_32_characters_required_for_encryption

# Encryption Key for sensitive data encryption (SERVER ONLY)
# Must be exactly 64 characters (256-bit key)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=your_64_character_encryption_key_for_sensitive_data_storage_required

# ==============================================================================
# DATABASE CONFIGURATION (SERVER ONLY)
# ==============================================================================
# Primary database connection for application metadata
# Used for storing user sessions, configuration, and application state
DATABASE_URL=postgresql://username:password@localhost:5432/dreamfactory_admin

# Redis connection for caching and session storage (OPTIONAL)
# Improves performance for React Query caching and session management
REDIS_URL=redis://localhost:6379

# Database connection pool configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=30000

# ==============================================================================
# NEXT.JS BUILD AND DEPLOYMENT CONFIGURATION
# ==============================================================================
# Build output configuration
# Options: standalone, export, static
OUTPUT_MODE=standalone

# Turbopack optimization settings
# Enables enhanced build performance (700% faster builds)
TURBO=true

# Image optimization configuration
# Domains allowed for Next.js image optimization
IMAGE_DOMAINS=localhost,api.dreamfactory.com,assets.calendly.com

# Static asset optimization
OPTIMIZE_IMAGES=true
OPTIMIZE_FONTS=true

# Build directory customization
BUILD_DIR=.next
DIST_DIR=dist

# ==============================================================================
# SECURITY HEADERS AND CSP CONFIGURATION
# ==============================================================================
# Content Security Policy configuration
# Defines allowed sources for scripts, styles, and other resources
CSP_SCRIPT_SRC='self' 'unsafe-inline' assets.calendly.com
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: blob: assets.calendly.com
CSP_CONNECT_SRC='self' api.dreamfactory.com

# Security monitoring webhook (OPTIONAL)
# URL for sending security event notifications
SECURITY_WEBHOOK_URL=https://your-security-monitoring-service.com/webhook

# CORS configuration for API endpoints
CORS_ORIGIN=http://localhost:3000,http://localhost:80
CORS_CREDENTIALS=true

# ==============================================================================
# PERFORMANCE AND MONITORING
# ==============================================================================
# React Query cache configuration
REACT_QUERY_STALE_TIME=300000
REACT_QUERY_CACHE_TIME=600000

# SWR configuration for real-time data synchronization
SWR_REFRESH_INTERVAL=30000
SWR_REVALIDATE_ON_FOCUS=true

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_SAMPLE_RATE=0.1

# Next.js Analytics (OPTIONAL)
NEXT_PUBLIC_ANALYTICS_ID=your_analytics_id_here

# ==============================================================================
# DEVELOPMENT TOOLS AND DEBUGGING
# ==============================================================================
# Development-specific configuration (only used in NODE_ENV=development)
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_REACT_DEVTOOLS=true

# Mock Service Worker configuration for development
MSW_ENABLED=false
MSW_API_URL=http://localhost:3001

# Hot Module Replacement configuration
FAST_REFRESH=true
HMR_PORT=3000

# ==============================================================================
# TESTING CONFIGURATION
# ==============================================================================
# Test environment database (separate from development)
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/dreamfactory_test

# Vitest configuration
VITEST_COVERAGE_THRESHOLD=90
VITEST_TIMEOUT=10000

# End-to-end testing with Playwright
E2E_BASE_URL=http://localhost:3000
E2E_TIMEOUT=30000

# ==============================================================================
# EXTERNAL SERVICES INTEGRATION
# ==============================================================================
# Email service configuration for notifications and user management
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
SMTP_FROM=noreply@dreamfactory.com

# File upload configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=.pdf,.doc,.docx,.xls,.xlsx,.csv,.txt,.json

# External API rate limiting
API_RATE_LIMIT=1000
API_RATE_WINDOW=3600000

# ==============================================================================
# LOGGING AND OBSERVABILITY
# ==============================================================================
# Log level configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Application metrics and observability
METRICS_ENABLED=true
METRICS_PORT=9090

# Error reporting service (OPTIONAL)
ERROR_REPORTING_URL=https://your-error-reporting-service.com/api
ERROR_REPORTING_API_KEY=your_error_reporting_api_key

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
# Feature toggles for gradual rollout and A/B testing
NEXT_PUBLIC_FEATURE_NEW_UI=true
NEXT_PUBLIC_FEATURE_ADVANCED_SCHEMAS=false
NEXT_PUBLIC_FEATURE_REAL_TIME_UPDATES=true

# Experimental features (use with caution in production)
NEXT_PUBLIC_EXPERIMENTAL_SERVER_COMPONENTS=false
NEXT_PUBLIC_EXPERIMENTAL_CONCURRENT_FEATURES=true

# ==============================================================================
# DEPLOYMENT SPECIFIC VARIABLES
# ==============================================================================
# Container deployment configuration
CONTAINER_PORT=3000
HEALTH_CHECK_PATH=/api/health

# Load balancer and proxy configuration
PROXY_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000

# Kubernetes/Docker deployment
DEPLOYMENT_NAMESPACE=dreamfactory
SERVICE_NAME=admin-interface

# ==============================================================================
# BACKUP AND MAINTENANCE
# ==============================================================================
# Backup configuration for critical data
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Maintenance mode configuration
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System maintenance in progress. Please try again later."

# ==============================================================================
# VALIDATION SCHEMA ENFORCEMENT
# ==============================================================================
# Enable environment variable validation at startup
VALIDATE_ENV_ON_START=true
STRICT_ENV_VALIDATION=true

# ==============================================================================
# NOTES AND DOCUMENTATION
# ==============================================================================
# 
# SECURITY BEST PRACTICES:
# - Never commit actual .env files to version control
# - Use different values for development, staging, and production
# - Rotate secrets regularly, especially JWT_SECRET and ENCRYPTION_KEY
# - Ensure server-only variables are never exposed to client
# - Use strong, cryptographically secure random values for all secrets
#
# PERFORMANCE OPTIMIZATION:
# - Adjust cache timeouts based on your deployment requirements
# - Monitor API rate limits and adjust accordingly
# - Use Redis for production deployments to improve caching performance
#
# DEVELOPMENT WORKFLOW:
# - Copy this file to .env.local for local development
# - Use .env.development, .env.staging, .env.production for environment-specific configs
# - Test environment variable validation with npm run validate-env
#
# DEPLOYMENT CHECKLIST:
# - Verify all required variables are set for target environment
# - Ensure database connections are properly configured
# - Test API connectivity before deployment
# - Validate security headers and CSP configuration
# - Monitor application logs for environment variable errors
# 
# ==============================================================================