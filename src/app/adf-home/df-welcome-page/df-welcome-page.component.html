<ng-container
  *ngIf="{
    isFirstTimeUser: isFirstTimeUser$ | async,
  } as data">
  <div [class]="(isDarkMode | async) ? 'dark-theme' : ''">

    <!-- Native App Mode: Snowflake-focused welcome page -->
    <ng-container *ngIf="isNativeApp">
      <section class="native-app-welcome" style="padding: 20px;">
        <!-- Getting Started Guide -->
        <article style="margin-bottom: 32px;">
          <h2 style="margin-bottom: 16px; color: #1976d2;">
            <fa-icon [icon]="faRocket" style="margin-right: 8px;"></fa-icon>
            Welcome to DreamFactory for Snowflake
          </h2>
          <p style="font-size: 16px; color: #666; margin-bottom: 24px;">
            Turn your Snowflake data into secure REST APIs in minutes. Follow these steps to get started:
          </p>

          <!-- Step-by-step guide -->
          <div style="background: #f5f5f5; border-radius: 12px; padding: 24px; margin-bottom: 24px;">
            <h3 style="margin-bottom: 16px; font-size: 18px;">Quick Start Guide</h3>
            <ol style="margin: 0; padding-left: 20px; line-height: 2;">
              <li><strong>Create a Snowflake API</strong> - Click the card below to connect to your Snowflake data</li>
              <li><strong>Configure Connection</strong> - Enter your database, schema, warehouse, and role</li>
              <li><strong>Test OAuth</strong> - Click "Test OAuth Connection" to verify authentication</li>
              <li><strong>Explore API Docs</strong> - View auto-generated API documentation and test endpoints</li>
              <li><strong>Make API Calls</strong> - Use your API key to authenticate requests from your applications</li>
            </ol>
          </div>

          <!-- Quick action cards -->
          <h3 style="margin-bottom: 16px;">Get Started</h3>
          <div class="button-group" style="display: flex; gap: 16px; flex-wrap: wrap;">
            <a
              *ngFor="let card of nativeAppCardsData"
              [routerLink]="card.route"
              class="native-app-card"
              style="
                background: white;
                border: 1px solid #e0e0e0;
                border-radius: 12px;
                padding: 20px;
                cursor: pointer;
                flex: 1;
                min-width: 250px;
                max-width: 350px;
                transition: box-shadow 0.2s, transform 0.2s;
                text-decoration: none;
              ">
              <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                <fa-icon
                  [icon]="card.icon"
                  [style.color]="card.headerColor"
                  style="font-size: 28px;">
                </fa-icon>
                <h4 style="margin: 0; color: #333;">{{ card.headerText }}</h4>
              </div>
              <p style="margin: 0; color: #666; font-size: 14px;">{{ card.text }}</p>
            </a>
          </div>
        </article>

        <!-- API Authentication Info -->
        <article style="background: #e3f2fd; border-radius: 12px; padding: 24px; margin-bottom: 24px;">
          <h3 style="margin-bottom: 12px; color: #1565c0;">
            <fa-icon [icon]="faBook" style="margin-right: 8px;"></fa-icon>
            Authenticating API Requests
          </h3>
          <p style="margin-bottom: 12px; color: #333;">
            Once you've created your Snowflake API, authenticate requests using your API key:
          </p>
          <div style="background: #263238; color: #aed581; padding: 16px; border-radius: 8px; font-family: monospace; font-size: 13px; overflow-x: auto;">
            <div style="color: #80cbc4;">// Example: Get all tables from your schema</div>
            <div>curl -X GET "https://your-app-url/api/v2/your-service/_table" \</div>
            <div style="padding-left: 20px;">-H "X-DreamFactory-API-Key: YOUR_API_KEY"</div>
          </div>
          <p style="margin-top: 12px; font-size: 13px; color: #666;">
            Find your API key in <strong>API Connections â†’ API Keys</strong>
          </p>
        </article>

        <!-- Dashboard Section -->
        <article class="dashboard-section">
          <df-dashboard></df-dashboard>
        </article>
      </section>
    </ng-container>

    <!-- Standard Mode: Original welcome page -->
    <section
      *ngIf="!isNativeApp"
      class="two-column-flex-container"
      [class.mobile]="breakpointService.isSmallScreen | async">
      <article class="flex-column">
        <article>
          <h2>
            {{ 'home.welcomePage.generateYourApis' | transloco }}
          </h2>
          <div class="button-group" aria-labelledby="welcome-heading">
            <df-generate-api-card
              *ngFor="let card of generateApiCardsData"
              [icon]="card.icon"
              [headerText]="card.headerTextKey"
              [text]="card.textKey"
              [routerLink]="card.route"
              [cardFinalBackgroundColor]="card.bgColor"
              [cardFinalHeaderColor]="card.headerColor">
            </df-generate-api-card>
          </div>
        </article>

        <!-- Dashboard Section -->
        <article class="dashboard-section">
          <df-dashboard></df-dashboard>
        </article>

        <article>
          <h3 id="learn-more-heading">
            {{ 'home.welcomePage.learnMoreHeading' | transloco }}
          </h3>
          <ul
            class="learn-more-links-list"
            aria-labelledby="learn-more-heading">
            <ng-container *ngFor="let resource of welcomePageResources">
              <li
                *ngIf="
                  data.isFirstTimeUser ||
                  resource.name === 'home.resourceLinks.gettingStartedGuide' ||
                  resource.name === 'home.resourceLinks.fullDocumentation' ||
                  resource.name === 'home.resourceLinks.blog' ||
                  resource.name === 'home.resourceLinks.contactSupport'
                ">
                <df-icon-link [linkItem]="resource"></df-icon-link>
              </li>
            </ng-container>
          </ul>
        </article>
      </article>
    </section>
    <section *ngIf="!isNativeApp" class="platforms-section">
      <div>
        <h2>GitHub Releases</h2>
        <div class="release-container">
          <div *ngFor="let release of releases">
            <mat-card
              class="full-width release-card"
              [style]="{ 'word-break': 'break-all' }">
              <mat-card-header>
                <mat-card-subtitle>{{ release.name }}</mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                <p>Tag: {{ release.tag_name }}</p>
                <p>Published at: {{ convertDateType(release.published_at) }}</p>
              </mat-card-content>
              <mat-card-actions>
                <a [href]="release.html_url" target="_blank" class="release-btn"
                  >View Release</a
                >
              </mat-card-actions>
            </mat-card>
          </div>
        </div>
      </div>
    </section>
    <!-- <mat-divider></mat-divider>

  <section class="platforms-section">
    <h3>
      {{ 'home.quickstartPage.quickstartSubHeading' | transloco }}
    </h3>

    <ol aria-labelledby="quickstart-instructions-heading">
      <p>{{ 'home.quickstartPage.quickstartSteps.stepOne' | transloco }}</p>
      <p>{{ 'home.quickstartPage.quickstartSteps.stepTwo' | transloco }}</p>
      <p>{{ 'home.quickstartPage.quickstartSteps.stepThree' | transloco }}</p>
    </ol>
    <article>
      <h4 id="javascript-examples-heading">
        {{ 'home.welcomePage.javaScriptExamplesHeading' | transloco }}
      </h4>

      <ul
        class="flex-list-container"
        [class.x-small]="breakpointService.isXSmallScreen | async"
        aria-labelledby="javascript-examples-heading">
        <li *ngFor="let link of javaScriptExampleLinks">
          <df-icon-card-link [linkInfo]="link"></df-icon-card-link>
        </li>
      </ul>
    </article>
  </section>
  <mat-divider></mat-divider>
  <df-download-page></df-download-page> -->
  </div>
</ng-container>
