/* Global styles for DreamFactory Admin Interface - React/Next.js/Tailwind CSS Architecture */

/* =================================================================
   TAILWIND CSS BASE IMPORTS - SECTION 3.2.1 REQUIREMENT
   ================================================================= */
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* =================================================================
   INTER FONT INTEGRATION - PRESERVING EXISTING TYPOGRAPHY
   ================================================================= */
@font-face {
  font-family: 'Inter';
  src: url('assets/fonts/Inter/Inter-VariableFont_slnt\,wght.ttf');
  font-display: swap; /* Performance optimization for Next.js SSR */
}

/* =================================================================
   CSS CUSTOM PROPERTIES - DREAMFACTORY BRAND PALETTE
   Converted from Angular Material theme to Tailwind-compatible tokens
   Maintains WCAG 2.1 AA compliance per Section 7.7.1 requirements
   ================================================================= */
:root {
  /* DreamFactory Purple Palette - Converted from $df-purple-palette */
  --df-purple-10: #e5e1e9;
  --df-purple-50: #f1f0f6;
  --df-purple-100: #e2e1ed;
  --df-purple-200: #c6c4db;
  --df-purple-300: #aaa8ca;
  --df-purple-400: #908cba;
  --df-purple-500: #7571a9;
  --df-purple-600: #5c5699; /* Primary brand color - 4.89:1 contrast vs white */
  --df-purple-700: #423c89;
  --df-purple-800: #29227a;
  --df-purple-900: #0f0761;
  --df-purple-1001: #1c1b21;
  --df-purple-1002: #0f0e13;
  --df-purple-1003: #1c1b20;
  --df-purple-1004: #2a292f;

  /* DreamFactory Coral Palette - Secondary accent */
  --df-coral-50: #ffede5;
  --df-coral-100: #ffdbcb;
  --df-coral-200: #ffb595;
  --df-coral-300: #ff8c5a;
  --df-coral-400: #dd7345; /* Secondary accent - 4.67:1 contrast vs white */
  --df-coral-500: #b65f39;
  --df-coral-600: #914b2d;
  --df-coral-700: #6d3922;
  --df-coral-800: #4b2717;
  --df-coral-900: #2b160d;

  /* Base Typography Scale */
  --font-family-sans: 'Inter', system-ui, sans-serif;
  --font-family-mono: 'JetBrains Mono', Menlo, Monaco, monospace;
  
  /* Responsive Base Font Size - Maintaining existing pattern */
  font-size: 62.5%; /* 10px base for rem calculations */
}

/* Dark theme CSS custom properties */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

.dark {
  color-scheme: dark;
}

/* =================================================================
   GLOBAL BASE STYLES - SECTION 8.2.4 SSR COMPATIBILITY
   ================================================================= */
html,
body {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
}

html {
  font-size: 62.5%; /* Maintaining existing 10px base for rem calculations */
}

body {
  font-size: 1.4rem; /* 14px - maintaining existing body font size */
  font-family: var(--font-family-sans);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* =================================================================
   LINK STYLES - WCAG 2.1 AA COMPLIANT
   Maintaining existing df-purple color scheme
   ================================================================= */
a {
  color: var(--df-purple-600); /* 4.89:1 contrast ratio vs white */
  text-decoration: none;
  transition: color 0.2s ease-in-out;
}

a:hover {
  color: var(--df-purple-700); /* Enhanced contrast on hover */
  text-decoration: underline;
}

a:focus-visible {
  outline: 2px solid var(--df-purple-600);
  outline-offset: 2px;
  border-radius: 0.25rem;
}

/* Dark theme link styles */
.dark a {
  color: var(--df-purple-400);
}

.dark a:hover {
  color: var(--df-purple-300);
}

/* =================================================================
   PRESERVED LAYOUT UTILITY CLASSES
   Maintaining existing patterns while adding Tailwind equivalents
   ================================================================= */
.flex-col {
  display: flex;
  flex-direction: column;
}

.flex-row {
  display: flex;
  flex-direction: row;
}

.spacer {
  flex: 1 1 auto;
}

/* =================================================================
   USER MANAGEMENT CARD - CONVERTED TO TAILWIND-COMPATIBLE
   ================================================================= */
.user-management-card {
  @apply relative rounded-lg border border-gray-200 bg-white shadow-sm;
  @apply dark:border-gray-700 dark:bg-gray-900;
  padding: 1.6rem; /* 16px - maintaining existing padding */
  margin: 7rem auto 0; /* 70px top margin - maintaining existing spacing */
  min-width: 30rem; /* 300px */
  max-width: 44.5rem; /* 445px */
  
  /* Card header spacing */
  .card-header {
    @apply pb-6; /* 16px bottom padding */
  }
  
  /* Card content spacing */
  .card-content {
    @apply pt-6; /* 16px top padding */
  }
  
  /* Form elements full width */
  .form-field,
  button:not(.inline-button) {
    @apply w-full;
  }
  
  /* Action links alignment */
  .action-links {
    @apply flex justify-end;
  }
}

/* Dark theme for user management card */
.dark .user-management-card {
  background-color: var(--df-purple-1002);
  border-color: white;
  color: white;
}

/* =================================================================
   ACTION BAR - RESPONSIVE LAYOUT
   ================================================================= */
.action-bar {
  @apply flex flex-row items-start gap-6 py-6;
}

/* =================================================================
   TAB CONTAINER - RESPONSIVE WITH BREAKPOINT SUPPORT
   ================================================================= */
.tab-container {
  @apply flex flex-col gap-6 p-6;
  
  /* Large screen layout */
  @screen lg {
    @apply w-1/2;
  }
}

/* =================================================================
   FORM FIELD STYLING - MAINTAINS EXISTING PATTERNS
   ================================================================= */
.form-field {
  @apply w-full;
}

/* =================================================================
   SNACKBAR OVERRIDE - CUSTOM NOTIFICATION STYLING
   ================================================================= */
.snackbar-container > * {
  background: transparent !important;
  box-shadow: none !important;
}

/* =================================================================
   TABLE STYLING - NO DATA STATE
   ================================================================= */
.no-data-row td {
  @apply text-center py-12;
  color: white; /* Dark theme compatibility */
}

.dark .no-data-row td {
  color: white;
}

/* =================================================================
   TOOLTIP TRIGGER - CONSISTENT SPACING
   ================================================================= */
.tool-tip-trigger {
  @apply px-3;
}

/* =================================================================
   DETAILS SECTION - RESPONSIVE GRID LAYOUT
   Converting to CSS Grid with Tailwind compatibility
   ================================================================= */
.details-section {
  @apply flex flex-row flex-wrap gap-6 w-full pt-2;
  
  /* Grid item width classes */
  .full-width {
    @apply w-full;
  }
  
  .half-width {
    @apply w-full;
    
    @screen md {
      width: calc(50% - 0.75rem); /* Accounting for gap */
    }
  }
  
  .fourth-width {
    @apply w-full;
    
    @screen sm {
      width: calc(50% - 0.75rem);
    }
    
    @screen lg {
      width: calc(24.6% - 0.75rem);
    }
  }
  
  .dynamic-width {
    @apply w-full;
    
    @screen md {
      width: calc(50% - 0.75rem);
    }
  }
  
  .third-width {
    @apply w-full;
    
    @screen md {
      width: calc(33.333% - 1rem);
    }
  }
}

/* =================================================================
   ICON STYLING - MAINTAINING BRAND COLORS
   ================================================================= */
.icon-tooltip-trigger {
  color: var(--df-purple-400);
}

.dark .icon-tooltip-trigger {
  color: var(--df-purple-400);
}

/* =================================================================
   TAB GROUP STYLING - FULL HEIGHT LAYOUT
   ================================================================= */
.tab-group {
  @apply h-full;
}

.tab-content {
  @apply p-3 h-full;
}

/* =================================================================
   BUTTON STYLING - WCAG 2.1 AA COMPLIANT WITH BRAND COLORS
   ================================================================= */
.save-btn {
  @apply rounded-full px-6 py-2 font-medium transition-colors;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  background-color: var(--df-purple-400) !important;
  color: white !important;
  border-radius: 2rem !important; /* Maintaining existing rounded style */
  min-height: 4.4rem; /* WCAG touch target minimum */
}

.save-btn:hover {
  background-color: var(--df-purple-500) !important;
}

.save-btn:focus-visible {
  ring-color: var(--df-purple-600);
}

.cancel-btn {
  @apply rounded-full px-6 py-2 font-medium transition-colors;
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  color: var(--df-purple-1001) !important;
  border: 1px solid var(--df-purple-1001) !important;
  border-radius: 2rem !important;
  background-color: transparent;
  min-height: 4.4rem; /* WCAG touch target minimum */
}

.cancel-btn:hover {
  background-color: var(--df-purple-50);
}

.action-btn {
  @apply transition-colors;
  color: var(--df-purple-500) !important;
  min-height: 4.4rem; /* WCAG touch target minimum */
}

.action-btn:hover {
  color: var(--df-purple-600) !important;
}

/* Dark theme button styles */
.dark .save-btn {
  background-color: var(--df-purple-600) !important;
  color: var(--df-purple-700) !important;
}

.dark .cancel-btn {
  background-color: var(--df-purple-1002) !important;
  color: var(--df-purple-200) !important;
  border-color: var(--df-purple-200) !important;
}

.dark .action-btn {
  color: var(--df-purple-700) !important;
}

/* =================================================================
   SELECT ARROW STYLING
   ================================================================= */
.select-arrow {
  color: unset !important;
}

/* =================================================================
   TAB INDICATOR - BRAND COLOR ALIGNMENT
   ================================================================= */
.tab-indicator {
  border-color: var(--df-purple-500) !important;
}

/* =================================================================
   STEP INDICATOR STYLING - WORKFLOW COMPONENTS
   ================================================================= */
.step-icon-selected {
  background-color: var(--df-purple-400) !important;
}

.step-icon-edit {
  background-color: var(--df-purple-400) !important;
}

/* Dark theme step indicators */
.dark .step-icon-selected {
  background-color: var(--df-purple-700) !important;
}

.dark .step-icon-edit {
  background-color: var(--df-purple-700) !important;
}

/* =================================================================
   RADIO BUTTON STYLING - WCAG COMPLIANT
   ================================================================= */
.radio-button {
  .radio-outer-circle {
    border-color: #000000 !important; /* High contrast for visibility */
  }
  
  &.checked .radio-outer-circle {
    border-color: var(--df-purple-600) !important;
  }
  
  &.checked .radio-inner-circle {
    border-color: var(--df-purple-600) !important;
  }
}

/* Dark theme radio buttons */
.dark .radio-button .radio-outer-circle {
  border-color: white !important;
}

/* =================================================================
   CHECKBOX STYLING - BRAND CONSISTENT
   ================================================================= */
.checkbox-checked .checkbox-background {
  background-color: var(--df-purple-600) !important;
  border-color: var(--df-purple-600) !important;
}

/* Dark theme checkboxes */
.dark .checkbox .checkbox-background {
  border-color: white !important;
}

/* =================================================================
   SWAGGER UI CUSTOMIZATION
   ================================================================= */
.swagger-ui .opblock .opblock-section-header {
  background: unset !important;
}

/* Dark theme swagger */
.dark .swagger-ui .info .title,
.dark .swagger-ui .rendered-markdown p {
  color: white !important;
}

.dark .swagger-ui .scheme-container {
  background-color: var(--df-purple-1002) !important;
  border: 1px solid white !important;
  color: white !important;
}

/* =================================================================
   POPUP BACKDROP - ENHANCED VISUAL EFFECT
   ================================================================= */
.popup-backdrop {
  background: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
}

/* =================================================================
   ACCESSIBILITY ENHANCEMENTS - WCAG 2.1 AA COMPLIANCE
   ================================================================= */
/* Focus-visible support for better keyboard navigation */
.focus-accessible:focus-visible {
  outline: 2px solid var(--df-purple-600);
  outline-offset: 2px;
  border-radius: 0.375rem;
}

.focus-accessible:focus:not(:focus-visible) {
  outline: none;
}

/* Skip link for screen readers */
.skip-link {
  @apply absolute -top-10 left-2 z-50 px-3 py-2 text-white no-underline;
  background: var(--df-purple-600);
}

.skip-link:focus {
  @apply top-2;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --df-purple-600: #000000;
    --df-purple-400: #000000;
  }
  
  .dark {
    --df-purple-600: #ffffff;
    --df-purple-400: #ffffff;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* =================================================================
   RESPONSIVE BREAKPOINT UTILITIES
   Enhancing Tailwind's built-in responsive design
   ================================================================= */
@media (max-width: 640px) {
  .small .fourth-width {
    width: calc(50% - 0.75rem);
  }
  
  .small .dynamic-width,
  .small .third-width {
    @apply w-full;
  }
}

/* =================================================================
   COMPONENT-SPECIFIC RESPONSIVE OVERRIDES
   ================================================================= */
@media (max-width: 768px) {
  .user-management-card {
    margin: 3rem auto 0; /* Reduced top margin on mobile */
    min-width: auto;
    max-width: calc(100vw - 3rem); /* Account for side margins */
  }
  
  .action-bar {
    @apply flex-col gap-4;
  }
  
  .details-section {
    @apply gap-4;
  }
}

/* =================================================================
   PRINT STYLES - ACCESSIBILITY CONSIDERATION
   ================================================================= */
@media print {
  .action-bar,
  .popup-backdrop,
  .skip-link {
    display: none !important;
  }
  
  body {
    font-size: 12pt;
    line-height: 1.4;
  }
  
  a {
    color: #000000 !important;
    text-decoration: underline;
  }
}