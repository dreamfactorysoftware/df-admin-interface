"use strict";(self.webpackChunkdf_admin_interface=self.webpackChunkdf_admin_interface||[]).push([[553],{90553:(u,g,t)=>{t.r(g),t.d(g,{DfIntercomConfigComponent:()=>v});var s=t(96814),l=t(82599),_=t(55940),r=t(56223),n=t(65879),d=t(47971),m=t(72246),f=t(14607);function C(o,c){1&o&&(n.TgZ(0,"div",5),n._UZ(1,"mat-spinner",6),n.TgZ(2,"span"),n._uU(3,"Loading configuration..."),n.qZA()())}function p(o,c){if(1&o){const e=n.EpF();n.TgZ(0,"mat-slide-toggle",7),n.NdJ("ngModelChange",function(a){n.CHM(e);const M=n.oxw();return n.KtG(M.intercomEnabled=a)})("change",function(){n.CHM(e);const a=n.oxw();return n.KtG(a.onToggleChange())}),n._uU(1),n.qZA()}if(2&o){const e=n.oxw();n.Q6J("ngModel",e.intercomEnabled)("disabled",e.saving),n.xp6(1),n.hij(" ",e.intercomEnabled?"Enable Intercom Widget":"Disable Intercom Widget"," ")}}function h(o,c){1&o&&(n.TgZ(0,"div",8),n._UZ(1,"mat-spinner",9),n.TgZ(2,"span"),n._uU(3,"Saving..."),n.qZA()())}let v=(()=>{class o{constructor(e,i,a){this.intercomConfigService=e,this.snackbarService=i,this.intercomService=a,this.intercomEnabled=!0,this.loading=!1,this.saving=!1}ngOnInit(){this.loadConfig()}loadConfig(){this.loading=!0,this.intercomConfigService.getConfig().subscribe({next:e=>{this.intercomEnabled=e.intercomWidget??!0,this.loading=!1},error:e=>{console.error("Failed to load Intercom configuration:",e),this.snackbarService.openSnackBar("Failed to load configuration","error"),this.loading=!1}})}saveConfig(){this.saving=!0,this.intercomConfigService.updateConfig({intercomWidget:this.intercomEnabled}).subscribe({next:()=>{this.snackbarService.openSnackBar("Intercom configuration saved successfully","success"),this.saving=!1,this.intercomEnabled?this.intercomService.showIntercom():this.intercomService.hideIntercom()},error:e=>{console.error("Failed to save Intercom configuration:",e),this.snackbarService.openSnackBar("Failed to save configuration","error"),this.saving=!1}})}onToggleChange(){this.saveConfig()}}return o.\u0275fac=function(e){return new(e||o)(n.Y36(d.t),n.Y36(m.w),n.Y36(f.f))},o.\u0275cmp=n.Xpm({type:o,selectors:[["df-intercom-config"]],standalone:!0,features:[n.jDz],decls:7,vars:3,consts:[[1,"intercom-config-container"],[1,"config-section"],["class","loading-spinner",4,"ngIf"],["color","primary","class","toggle-control",3,"ngModel","disabled","ngModelChange","change",4,"ngIf"],["class","saving-indicator",4,"ngIf"],[1,"loading-spinner"],["diameter","30"],["color","primary",1,"toggle-control",3,"ngModel","disabled","ngModelChange","change"],[1,"saving-indicator"],["diameter","20"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0)(1,"p"),n._uU(2," Control whether the Intercom chat widget is displayed to users. When disabled, no Intercom resources will be loaded and the widget will not appear. "),n.qZA(),n.TgZ(3,"div",1),n.YNc(4,C,4,0,"div",2),n.YNc(5,p,2,3,"mat-slide-toggle",3),n.YNc(6,h,4,0,"div",4),n.qZA()()),2&e&&(n.xp6(4),n.Q6J("ngIf",i.loading),n.xp6(1),n.Q6J("ngIf",!i.loading),n.xp6(1),n.Q6J("ngIf",i.saving))},dependencies:[s.ez,s.O5,l.rP,l.Rr,_.Cq,_.Ou,r.u5,r.JJ,r.On],styles:[".intercom-config-container[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.intercom-config-container[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{flex-shrink:0}.intercom-config-container[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .toggle-control[_ngcontent-%COMP%]{margin-bottom:20px}.intercom-config-container[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .saving-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:20px}.intercom-config-container[_ngcontent-%COMP%]   .config-section[_ngcontent-%COMP%]   .saving-indicator[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{flex-shrink:0}"]}),o})()}}]);