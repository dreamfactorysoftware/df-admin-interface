"use strict";(self.webpackChunkdf_admin_interface=self.webpackChunkdf_admin_interface||[]).push([[9480],{99480:(I,s,o)=>{o.r(s),o.d(s,{DfIntercomConfigComponent:()=>E});var c=o(60177),g=o(30450),l=o(9183),r=o(89417),n=o(17705),_=o(39984),m=o(44984),f=o(45105);function h(i,d){1&i&&(n.j41(0,"div",5),n.nrm(1,"mat-spinner",6),n.j41(2,"span"),n.EFF(3,"Loading configuration..."),n.k0s()())}function v(i,d){if(1&i){const e=n.RV6();n.j41(0,"mat-slide-toggle",7),n.bIt("ngModelChange",function(t){n.eBV(e);const u=n.XpG();return n.Njj(u.intercomEnabled=t)})("change",function(){n.eBV(e);const t=n.XpG();return n.Njj(t.onToggleChange())}),n.EFF(1),n.k0s()}if(2&i){const e=n.XpG();n.Y8G("ngModel",e.intercomEnabled)("disabled",e.saving),n.R7$(1),n.SpI(" ",e.intercomEnabled?"Intercom Widget Enabled":"Intercom Widget Disabled"," ")}}function C(i,d){1&i&&(n.j41(0,"div",8),n.nrm(1,"mat-spinner",9),n.j41(2,"span"),n.EFF(3,"Saving..."),n.k0s()())}let E=(()=>{class i{constructor(e,a,t){this.intercomConfigService=e,this.snackbarService=a,this.intercomService=t,this.intercomEnabled=!0,this.loading=!1,this.saving=!1}ngOnInit(){this.loadConfig()}loadConfig(){this.loading=!0,this.intercomConfigService.getConfig().subscribe({next:e=>{this.intercomEnabled=e.intercomWidget??!0,this.loading=!1},error:e=>{console.error("Failed to load Intercom configuration:",e),this.snackbarService.openSnackBar("Failed to load configuration","error"),this.loading=!1}})}saveConfig(){this.saving=!0,this.intercomConfigService.updateConfig({intercomWidget:this.intercomEnabled}).subscribe({next:()=>{this.snackbarService.openSnackBar("Intercom configuration saved successfully","success"),this.saving=!1,this.intercomEnabled?this.intercomService.showIntercom():this.intercomService.hideIntercom()},error:e=>{console.error("Failed to save Intercom configuration:",e),this.snackbarService.openSnackBar("Failed to save configuration","error"),this.saving=!1}})}onToggleChange(){this.saveConfig()}static{this.\u0275fac=function(a){return new(a||i)(n.rXU(_.H),n.rXU(m.L),n.rXU(f.l))}}static{this.\u0275cmp=n.VBU({type:i,selectors:[["df-intercom-config"]],standalone:!0,features:[n.aNF],decls:7,vars:3,consts:[[1,"intercom-config-container"],[1,"config-section"],["class","loading-spinner",4,"ngIf"],["color","primary","class","toggle-control",3,"ngModel","disabled","ngModelChange","change",4,"ngIf"],["class","saving-indicator",4,"ngIf"],[1,"loading-spinner"],["diameter","30"],["color","primary",1,"toggle-control",3,"ngModel","disabled","ngModelChange","change"],[1,"saving-indicator"],["diameter","20"]],template:function(a,t){1&a&&(n.j41(0,"div",0)(1,"p"),n.EFF(2," Control whether the Intercom chat widget is displayed to users. When disabled, no Intercom resources will be loaded and the widget will not appear. "),n.k0s(),n.j41(3,"div",1),n.DNE(4,h,4,0,"div",2),n.DNE(5,v,2,3,"mat-slide-toggle",3),n.DNE(6,C,4,0,"div",4),n.k0s()()),2&a&&(n.R7$(4),n.Y8G("ngIf",t.loading),n.R7$(1),n.Y8G("ngIf",!t.loading),n.R7$(1),n.Y8G("ngIf",t.saving))},dependencies:[c.MD,c.bT,g.mV,g.sG,l.D6,l.LG,r.YN,r.BC,r.vS]})}}return i})()}}]);