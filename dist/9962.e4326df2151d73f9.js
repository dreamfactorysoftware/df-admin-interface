"use strict";(self.webpackChunkdf_admin_interface=self.webpackChunkdf_admin_interface||[]).push([[9962],{59962:(j,P,r)=>{r.r(P),r.d(P,{DfRegisterComponent:()=>l});var n=r(31635),i=r(89417),m=r(99437),p=r(18810),u=r(23472),R=r(18498),E=r(88834),e=r(77493),O=r(71997),c=r(51425),M=r(25596),_=r(60177),D=r(33609),C=r(49894),t=r(17705),T=r(82298),b=r(34387);function I(f,a){if(1&f){const s=t.RV6();t.j41(0,"mat-card",2)(1,"df-alert",3),t.bIt("alertClosed",function(){t.eBV(s);const g=t.XpG();return t.Njj(g.showAlert=!1)}),t.EFF(2),t.k0s(),t.j41(3,"mat-card-header")(4,"mat-card-title"),t.EFF(5),t.nI1(6,"transloco"),t.k0s()(),t.nrm(7,"mat-divider"),t.j41(8,"mat-card-content")(9,"form",4),t.bIt("ngSubmit",function(){t.eBV(s);const g=t.XpG();return t.Njj(g.register())}),t.nrm(10,"df-profile-details",5),t.j41(11,"button",6),t.EFF(12),t.nI1(13,"transloco"),t.k0s()()()()}if(2&f){const s=t.XpG();t.R7$(1),t.Y8G("showAlert",s.showAlert)("alertType",s.alertType),t.R7$(1),t.JRh(s.alertMsg),t.R7$(3),t.SpI(" ",t.bMT(6,6,"userManagement.register")," "),t.R7$(4),t.Y8G("formGroup",s.registerForm),t.R7$(3),t.SpI(" ",t.bMT(13,8,"userManagement.register")," ")}}function o(f,a){if(1&f&&(t.j41(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),t.EFF(3),t.nI1(4,"transloco"),t.k0s()(),t.nrm(5,"mat-divider"),t.j41(6,"mat-card-content")(7,"h2"),t.EFF(8),t.nI1(9,"transloco"),t.k0s(),t.j41(10,"p"),t.EFF(11),t.nI1(12,"transloco"),t.k0s(),t.j41(13,"div",7)(14,"a",8),t.EFF(15),t.nI1(16,"transloco"),t.k0s()()()()),2&f){const s=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,5,"userManagement.registerSuccess.header")," "),t.R7$(5),t.JRh(t.bMT(9,7,"userManagement.registerSuccess.title")),t.R7$(3),t.JRh(t.bMT(12,9,"userManagement.registerSuccess.message")),t.R7$(3),t.Y8G("routerLink",s.loginRoute),t.R7$(1),t.JRh(t.bMT(16,11,"userManagement.login"))}}let l=class G{constructor(a,s,d){this.fb=a,this.systemConfigDataService=s,this.authService=d,this.alertMsg="",this.showAlert=!1,this.alertType="error",this.loginAttribute="email",this.complete=!1,this.loginRoute=`/${u.b.AUTH}/${u.b.LOGIN}`,this.registerForm=this.fb.group({profileDetailsGroup:this.fb.group({username:[""],email:["",[i.k0.email]],firstName:["",[i.k0.required]],lastName:["",[i.k0.required]],name:["",[i.k0.required]]})})}ngOnInit(){this.systemConfigDataService.environment$.subscribe(a=>{this.loginAttribute=a.authentication.loginAttribute,"username"===this.loginAttribute?this.registerForm.get("profileDetailsGroup.username")?.setValidators([i.k0.required]):this.registerForm.get("profileDetailsGroup.email")?.addValidators([i.k0.required])})}register(){this.registerForm.invalid||this.authService.register(this.registerForm.controls.profileDetailsGroup.value).pipe((0,m.W)(a=>(this.alertMsg=a.error.error.message,this.showAlert=!0,(0,p.$)(()=>new Error(a))))).subscribe(()=>{this.showAlert=!1,this.complete=!0})}static{this.\u0275fac=function(s){return new(s||G)(t.rXU(i.ok),t.rXU(T.f),t.rXU(b.g))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["df-register"]],standalone:!0,features:[t.aNF],decls:3,vars:2,consts:[[1,"user-management-card-container"],["class","user-management-card",4,"ngIf"],[1,"user-management-card"],[3,"showAlert","alertType","alertClosed"],["name","self-register-form",3,"formGroup","ngSubmit"],["formGroupName","profileDetailsGroup"],["mat-flat-button","","color","primary","type","submit"],[1,"action-links"],["mat-button","","target","_self",3,"routerLink"]],template:function(s,d){1&s&&(t.j41(0,"div",0),t.DNE(1,I,14,10,"mat-card",1),t.DNE(2,o,17,13,"mat-card",1),t.k0s()),2&s&&(t.R7$(1),t.Y8G("ngIf",!d.complete),t.R7$(1),t.Y8G("ngIf",d.complete))},dependencies:[_.bT,M.Hu,M.RN,M.m2,M.MM,M.dh,c.W,O.w,O.q,i.X1,i.qT,i.cb,i.j4,i.$R,e.D,E.Hl,E.It,E.$z,R.Wk,D.Kj],styles:[".user-management-card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]{padding:16px;margin:0 auto;min-width:300px;max-width:445px;box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape: 4px;--mdc-outlined-card-container-shape: 4px;--mdc-outlined-card-outline-width: 1px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:16px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:16px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .services-section[_ngcontent-%COMP%]{padding-top:32px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .services-section[_ngcontent-%COMP%]   .services-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-top:16px;gap:16px}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.user-management-card-container[_ngcontent-%COMP%]   .user-management-card[_ngcontent-%COMP%]   .action-links[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.user-management-card-container[_ngcontent-%COMP%]{margin-top:20vh}.user-management-card-container.dark-theme[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}"]})}};l=(0,n.Cg)([(0,C.d)({checkProperties:!0})],l)},51425:(j,P,r)=>{r.d(P,{W:()=>O});var n=r(17705),i=r(60177),m=r(88834),p=r(20060),u=r(45383);function R(c,M){if(1&c){const _=n.RV6();n.j41(0,"button",5),n.bIt("click",function(){n.eBV(_);const C=n.XpG(2);return n.Njj(C.dismissAlert())}),n.j41(1,"fa-icon",6),n.EFF(2),n.k0s()()}if(2&c){const _=n.XpG(2);n.R7$(1),n.Y8G("icon",_.faXmark),n.R7$(1),n.JRh("alerts.close")}}function E(c,M){if(1&c&&(n.j41(0,"div",1),n.nrm(1,"fa-icon",2),n.j41(2,"span",3),n.SdG(3),n.k0s(),n.DNE(4,R,3,2,"button",4),n.k0s()),2&c){const _=n.XpG();n.HbH(_.alertType),n.R7$(1),n.Y8G("icon",_.icon),n.R7$(3),n.Y8G("ngIf",_.dismissible)}}const e=["*"];let O=(()=>{class c{constructor(){this.alertType="success",this.showAlert=!1,this.dismissible=!0,this.alertClosed=new n.bkB,this.faXmark=u.Jyw}dismissAlert(){this.alertClosed.emit()}get icon(){switch(this.alertType){case"success":return u.SGM;case"error":return u.rfe;case"warning":return u.tUE;default:return u.iW_}}static{this.\u0275fac=function(D){return new(D||c)}}static{this.\u0275cmp=n.VBU({type:c,selectors:[["df-alert"]],inputs:{alertType:"alertType",showAlert:"showAlert",dismissible:"dismissible"},outputs:{alertClosed:"alertClosed"},standalone:!0,features:[n.aNF],ngContentSelectors:e,decls:1,vars:1,consts:[["class","alert-container",3,"class",4,"ngIf"],[1,"alert-container"],["aria-hidden","true",1,"alert-icon",3,"icon"],["role","alert",1,"alert-message"],["mat-icon-button","","class","dismiss-alert",3,"click",4,"ngIf"],["mat-icon-button","",1,"dismiss-alert",3,"click"],[3,"icon"]],template:function(D,C){1&D&&(n.NAR(),n.DNE(0,E,5,4,"div",0)),2&D&&n.Y8G("ngIf",C.showAlert)},dependencies:[i.bT,m.Hl,m.iY,p.dX,p.aY],styles:[".alert-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border:1px solid;border-radius:5px;box-shadow:0 0 5px #0003;color:#000}.alert-container[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1;padding:8px}.alert-container[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{padding:0 10px}.alert-container.success[_ngcontent-%COMP%]{border-color:#81c784;background-color:#c8e6c9}.alert-container.success[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#4caf50}.alert-container.error[_ngcontent-%COMP%]{border-color:#e57373;background-color:#ffcdd2}.alert-container.error[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#f44336}.alert-container.warning[_ngcontent-%COMP%]{border-color:#ffb74d;background-color:#ffe0b2}.alert-container.warning[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#ff9800}.alert-container.info[_ngcontent-%COMP%]{border-color:#64b5f6;background-color:#bbdefb}.alert-container.info[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#2196f3}"]})}}return c})()},77493:(j,P,r)=>{r.d(P,{D:()=>I});var n=r(31635),i=r(60177),m=r(89417),p=r(32102),u=r(99631),R=r(33609),E=r(49894),e=r(17705),O=r(52868);function c(o,l){1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&o&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"userManagement.controls.username.errors.required")," "))}function M(o,l){1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&o&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"userManagement.controls.username.errors.minLength")," "))}function _(o,l){1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&o&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"userManagement.controls.email.errors.invalid")," "))}function D(o,l){1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&o&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"userManagement.controls.email.errors.required")," "))}function C(o,l){1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&o&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"userManagement.controls.firstName.errors.required")," "))}function t(o,l){1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&o&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"userManagement.controls.lastName.errors.required")," "))}function T(o,l){1&o&&(e.j41(0,"mat-error"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&o&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"userManagement.controls.displayName.errors.required")," "))}function b(o,l){1&o&&(e.j41(0,"mat-form-field",2)(1,"mat-label"),e.EFF(2),e.nI1(3,"transloco"),e.k0s(),e.nrm(4,"input",10),e.k0s()),2&o&&(e.R7$(2),e.JRh(e.bMT(3,1,"userManagement.controls.phone.label")))}let I=class ${constructor(l,f){this.rootFormGroup=l,this.themeService=f,this.isDarkMode=this.themeService.darkMode$}ngOnInit(){this.rootForm=this.rootFormGroup.control,this.rootFormGroup.ngSubmit.subscribe(()=>{this.rootForm.markAllAsTouched()})}controlExists(l){return null!==this.rootForm.get(l)}isRequired(l){return!!this.rootForm.get(l)?.hasValidator(m.k0.required)}static{this.\u0275fac=function(f){return new(f||$)(e.rXU(m.j4),e.rXU(O.n))}}static{this.\u0275cmp=e.VBU({type:$,selectors:[["df-profile-details"]],standalone:!0,features:[e.aNF],decls:37,vars:31,consts:[["name","user-details-section",3,"formGroup"],["formGroupName","profileDetailsGroup"],["appearance","outline"],["matInput","","type","text","formControlName","username"],[4,"ngIf"],["matInput","","type","email","formControlName","email"],["matInput","","type","text","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","name"],["appearance","outline",4,"ngIf"],["matInput","","formControlName","phone"]],template:function(f,a){if(1&f&&(e.qex(0,0),e.nI1(1,"async"),e.qex(2,1),e.j41(3,"mat-form-field",2)(4,"mat-label"),e.EFF(5),e.nI1(6,"transloco"),e.nI1(7,"transloco"),e.k0s(),e.nrm(8,"input",3),e.DNE(9,c,3,3,"mat-error",4),e.DNE(10,M,3,3,"mat-error",4),e.k0s(),e.j41(11,"mat-form-field",2)(12,"mat-label"),e.EFF(13),e.nI1(14,"transloco"),e.k0s(),e.nrm(15,"input",5),e.DNE(16,_,3,3,"mat-error",4),e.DNE(17,D,3,3,"mat-error",4),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20),e.nI1(21,"transloco"),e.k0s(),e.nrm(22,"input",6),e.DNE(23,C,3,3,"mat-error",4),e.k0s(),e.j41(24,"mat-form-field",2)(25,"mat-label"),e.EFF(26),e.nI1(27,"transloco"),e.k0s(),e.nrm(28,"input",7),e.DNE(29,t,3,3,"mat-error",4),e.k0s(),e.j41(30,"mat-form-field",2)(31,"mat-label"),e.EFF(32),e.nI1(33,"transloco"),e.k0s(),e.nrm(34,"input",8),e.DNE(35,T,3,3,"mat-error",4),e.k0s(),e.DNE(36,b,5,3,"mat-form-field",9),e.bVm()()),2&f){let s,d,g,h,F,v,A;e.HbH(e.bMT(1,17,a.isDarkMode)?"dark-theme":""),e.Y8G("formGroup",a.rootForm),e.R7$(5),e.Lme("",e.bMT(6,19,"userManagement.controls.username.altLabel"),"",a.isRequired("profileDetailsGroup.username")?"":" "+e.bMT(7,21,"userManagement.controls.username.optional"),""),e.R7$(4),e.Y8G("ngIf",null==(s=a.rootForm.get("profileDetailsGroup.username"))||null==s.errors?null:s.errors.required),e.R7$(1),e.Y8G("ngIf",null==(d=a.rootForm.get("profileDetailsGroup.username"))||null==d.errors?null:d.errors.minlength),e.R7$(3),e.SpI(" ",e.bMT(14,23,"userManagement.controls.email.label"),""),e.R7$(3),e.Y8G("ngIf",(null==(g=a.rootForm.get("profileDetailsGroup.email"))||null==g.errors?null:g.errors.email)&&!(null!=(g=a.rootForm.get("profileDetailsGroup.email"))&&null!=g.errors&&g.errors.required)),e.R7$(1),e.Y8G("ngIf",!(null!=(h=a.rootForm.get("profileDetailsGroup.email"))&&null!=h.errors&&h.errors.email)&&(null==(h=a.rootForm.get("profileDetailsGroup.email"))||null==h.errors?null:h.errors.required)),e.R7$(3),e.SpI(" ",e.bMT(21,25,"userManagement.controls.firstName.label"),""),e.R7$(3),e.Y8G("ngIf",null==(F=a.rootForm.get("profileDetailsGroup.firstName"))||null==F.errors?null:F.errors.required),e.R7$(3),e.JRh(e.bMT(27,27,"userManagement.controls.lastName.label")),e.R7$(3),e.Y8G("ngIf",null==(v=a.rootForm.get("profileDetailsGroup.lastName"))||null==v.errors?null:v.errors.required),e.R7$(3),e.JRh(e.bMT(33,29,"userManagement.controls.displayName.label")),e.R7$(3),e.Y8G("ngIf",null==(A=a.rootForm.get("profileDetailsGroup.name"))||null==A.errors?null:A.errors.required),e.R7$(1),e.Y8G("ngIf",a.controlExists("profileDetailsGroup.phone"))}},dependencies:[p.RG,p.rl,p.nJ,p.TL,u.fS,u.fg,m.YN,m.me,m.BC,m.cb,m.X1,m.j4,m.JD,m.$R,R.Kj,i.bT,i.Jj],encapsulation:2})}};I=(0,n.Cg)([(0,E.d)({checkProperties:!0})],I)}}]);