"use strict";(self.webpackChunkdf_admin_interface=self.webpackChunkdf_admin_interface||[]).push([[4796],{41089:(R,v,a)=>{a.d(v,{v:()=>C});var c=a(65879),m=a(96814),n=a(32296),u=a(45597),f=a(90590);function d(p,h){if(1&p){const A=c.EpF();c.TgZ(0,"button",5),c.NdJ("click",function(){c.CHM(A);const e=c.oxw(2);return c.KtG(e.dismissAlert())}),c.TgZ(1,"fa-icon",6),c._uU(2),c.qZA()()}if(2&p){const A=c.oxw(2);c.xp6(1),c.Q6J("icon",A.faXmark),c.xp6(1),c.Oqu("alerts.close")}}function E(p,h){if(1&p&&(c.TgZ(0,"div",1),c._UZ(1,"fa-icon",2),c.TgZ(2,"span",3),c.Hsn(3),c.qZA(),c.YNc(4,d,3,2,"button",4),c.qZA()),2&p){const A=c.oxw();c.Tol(A.alertType),c.xp6(1),c.Q6J("icon",A.icon),c.xp6(3),c.Q6J("ngIf",A.dismissible)}}const t=["*"];let C=(()=>{class p{constructor(){this.alertType="success",this.showAlert=!1,this.dismissible=!0,this.alertClosed=new c.vpe,this.faXmark=f.g82}dismissAlert(){this.alertClosed.emit()}get icon(){switch(this.alertType){case"success":return f.f8k;case"error":return f.$9F;case"warning":return f.RLE;default:return f.sqG}}}return p.\u0275fac=function(A){return new(A||p)},p.\u0275cmp=c.Xpm({type:p,selectors:[["df-alert"]],inputs:{alertType:"alertType",showAlert:"showAlert",dismissible:"dismissible"},outputs:{alertClosed:"alertClosed"},standalone:!0,features:[c.jDz],ngContentSelectors:t,decls:1,vars:1,consts:[["class","alert-container",3,"class",4,"ngIf"],[1,"alert-container"],["aria-hidden","true",1,"alert-icon",3,"icon"],["role","alert",1,"alert-message"],["mat-icon-button","","class","dismiss-alert",3,"click",4,"ngIf"],["mat-icon-button","",1,"dismiss-alert",3,"click"],[3,"icon"]],template:function(A,o){1&A&&(c.F$t(),c.YNc(0,E,5,4,"div",0)),2&A&&c.Q6J("ngIf",o.showAlert)},dependencies:[m.O5,n.ot,n.RK,u.uH,u.BN],styles:[".alert-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border:1px solid;border-radius:5px;box-shadow:0 0 5px #0003;color:#000}.alert-container[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1;padding:8px}.alert-container[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{padding:0 10px}.alert-container.success[_ngcontent-%COMP%]{border-color:#81c784;background-color:#c8e6c9}.alert-container.success[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#4caf50}.alert-container.error[_ngcontent-%COMP%]{border-color:#e57373;background-color:#ffcdd2}.alert-container.error[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#f44336}.alert-container.warning[_ngcontent-%COMP%]{border-color:#ffb74d;background-color:#ffe0b2}.alert-container.warning[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#ff9800}.alert-container.info[_ngcontent-%COMP%]{border-color:#64b5f6;background-color:#bbdefb}.alert-container.info[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#2196f3}"]}),p})()},84870:(R,v,a)=>{a.d(v,{a:()=>B});var T,c=a(97582),m=a(96814),n=a(56223),u=a(64170),f=a(32296),d=a(25313),E=a(2032),t=a(82599),C=a(45597),p=a(3305),h=a(90590),A=a(42346),o=a(78791),e=a(65879),L=a(65763);function O(r,s){if(1&r&&(e.TgZ(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"mat-panel-description"),e._uU(7),e.ALo(8,"transloco"),e.qZA()(),e.GkF(9,3),e.qZA()()),2&r){e.oxw();const i=e.MAs(4);e.xp6(4),e.hij(" ",e.lcZ(5,3,"lookupKeys.label"),""),e.xp6(3),e.Oqu(e.lcZ(8,5,"lookupKeys.desc")),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function y(r,s){1&r&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"name")," "))}function U(r,s){1&r&&(e.TgZ(0,"mat-cell",16)(1,"mat-form-field",17)(2,"mat-label"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e._UZ(5,"input",18),e.qZA()()),2&r&&(e.Q6J("formGroupName",s.index),e.xp6(3),e.Oqu(e.lcZ(4,2,"name")))}function l(r,s){1&r&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"value")," "))}function _(r,s){1&r&&(e.TgZ(0,"mat-cell",16)(1,"mat-form-field",17)(2,"mat-label"),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e._UZ(5,"input",19),e.qZA()()),2&r&&(e.Q6J("formGroupName",s.index),e.xp6(3),e.Oqu(e.lcZ(4,2,"value")))}function g(r,s){1&r&&(e.TgZ(0,"mat-header-cell"),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"private")," "))}function Z(r,s){1&r&&(e.TgZ(0,"mat-cell",16),e._UZ(1,"mat-slide-toggle",20),e.ALo(2,"transloco"),e.qZA()),2&r&&(e.Q6J("formGroupName",s.index),e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"name")))}function D(r,s){if(1&r){const i=e.EpF();e.TgZ(0,"mat-header-cell")(1,"button",21),e.NdJ("click",function(){e.CHM(i);const I=e.oxw(2);return e.KtG(I.add())}),e.ALo(2,"transloco"),e._UZ(3,"fa-icon",22),e.qZA()()}if(2&r){const i=e.oxw(2);e.xp6(1),e.uIk("aria-label",e.lcZ(2,2,"newEntry")),e.xp6(2),e.Q6J("icon",i.faPlus)}}function M(r,s){if(1&r){const i=e.EpF();e.TgZ(0,"mat-cell",16)(1,"button",23),e.NdJ("click",function(){const w=e.CHM(i).index,k=e.oxw(2);return e.KtG(k.remove(w))}),e._UZ(2,"fa-icon",24),e.qZA()()}if(2&r){const i=s.index,P=e.oxw(2);e.Q6J("formGroupName",i),e.xp6(2),e.Q6J("icon",P.faTrashCan)}}function x(r,s){1&r&&e._UZ(0,"mat-header-row")}function N(r,s){1&r&&e._UZ(0,"mat-row")}function K(r,s){1&r&&(e.TgZ(0,"tr",25)(1,"td",26),e._uU(2),e.ALo(3,"transloco"),e.qZA()()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lookupKeys.noKeys")," "))}function b(r,s){if(1&r&&(e.ynx(0,4)(1,5),e.TgZ(2,"mat-table",6),e.ynx(3,7),e.YNc(4,y,3,3,"mat-header-cell",8),e.YNc(5,U,6,4,"mat-cell",9),e.BQk(),e.ynx(6,10),e.YNc(7,l,3,3,"mat-header-cell",8),e.YNc(8,_,6,4,"mat-cell",9),e.BQk(),e.ynx(9,11),e.YNc(10,g,3,3,"mat-header-cell",8),e.YNc(11,Z,3,4,"mat-cell",9),e.BQk(),e.ynx(12,12),e.YNc(13,D,4,4,"mat-header-cell",8),e.YNc(14,M,3,2,"mat-cell",9),e.BQk(),e.YNc(15,x,1,0,"mat-header-row",13),e.YNc(16,N,1,0,"mat-row",14),e.YNc(17,K,4,3,"tr",15),e.qZA(),e.BQk()()),2&r){const i=e.oxw();e.Q6J("formGroup",i.rootForm),e.xp6(2),e.Q6J("dataSource",i.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns)}}let B=((T=class{constructor(s,i){this.rootFormGroup=s,this.themeService=i,this.displayedColumns=["name","value","private","actions"],this.faTrashCan=h.Vui,this.faPlus=h.r8p,this.showAccordion=!0,this.isDarkMode=this.themeService.darkMode$}ngOnInit(){this.rootForm=this.rootFormGroup.control,this.rootFormGroup.ngSubmit.subscribe(()=>{this.lookupKeys.markAllAsTouched()}),this.lookupKeys=this.rootForm.get("lookupKeys"),this.updateDataSource()}updateDataSource(){this.lookupKeys.controls.forEach(s=>{s.get("id")?.value&&s.get("name")?.disable()}),this.dataSource=new d.by(this.lookupKeys.controls)}add(){this.lookupKeys.push(new n.cw({name:new n.NI("",n.kI.required),value:new n.NI(""),private:new n.NI(!1)})),this.updateDataSource()}remove(s){this.lookupKeys.removeAt(s),this.updateDataSource()}}).\u0275fac=function(s){return new(s||T)(e.Y36(n.sg),e.Y36(L.F))},T.\u0275cmp=e.Xpm({type:T,selectors:[["df-lookup-keys"]],inputs:{showAccordion:"showAccordion"},standalone:!0,features:[e.jDz],decls:5,vars:6,consts:[[1,"lookup-keys-accordion"],[4,"ngIf","ngIfElse"],["lookupKeys",""],[3,"ngTemplateOutlet"],[3,"formGroup"],["formArrayName","lookupKeys"],[3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[3,"formGroupName",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","private"],["matColumnDef","actions","stickyEnd",""],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-row no-data-row",4,"matNoDataRow"],[3,"formGroupName"],["appearance","outline","subscriptSizing","dynamic"],["matInput","","formControlName","name"],["matInput","","formControlName","value"],["color","primary","formControlName","private"],["mat-mini-fab","","type","button",1,"save-btn",3,"click"],["size","xl",3,"icon"],["mat-icon-button","","type","button",1,"remove-btn",3,"click"],["size","xs",3,"icon"],[1,"mat-row","no-data-row"],["colspan","4",1,"mat-cell"]],template:function(s,i){if(1&s&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.YNc(2,O,10,7,"mat-accordion",1),e.YNc(3,b,18,4,"ng-template",null,2,e.W1O),e.qZA()),2&s){const P=e.MAs(4);e.Tol(e.lcZ(1,4,i.isDarkMode)?"dark-theme":""),e.xp6(2),e.Q6J("ngIf",i.showAccordion)("ngIfElse",P)}},dependencies:[n.u5,n.Fj,n.JJ,n.JL,n.UX,n.sg,n.u,n.x0,n.CE,m.O5,m.tP,u.lN,u.KE,u.hX,f.ot,f.RK,f.nh,d.p0,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,d.Ee,E.c,E.Nt,t.rP,t.Rr,C.uH,C.BN,p.To,p.pp,p.ib,p.yz,p.yK,p.u4,A.Ot,m.Ov],styles:[".lookup-keys-accordion[_ngcontent-%COMP%]{padding:16px 0}.mat-column-actions[_ngcontent-%COMP%], .mat-column-private[_ngcontent-%COMP%]{max-width:10%}.mat-mdc-cell[_ngcontent-%COMP%]{padding:8px}"]}),T);B=(0,c.gn)([(0,o.c)({checkProperties:!0})],B)},2593:(R,v,a)=>{a.d(v,{e:()=>U});var p,c=a(97582),m=a(96814),n=a(56223),u=a(64170),f=a(2032),d=a(42346),E=a(78791),t=a(65879),C=a(65763);function h(l,_){1&l&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"userManagement.controls.username.errors.required")," "))}function A(l,_){1&l&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"userManagement.controls.username.errors.minLength")," "))}function o(l,_){1&l&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"userManagement.controls.email.errors.invalid")," "))}function e(l,_){1&l&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"userManagement.controls.email.errors.required")," "))}function L(l,_){1&l&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"userManagement.controls.firstName.errors.required")," "))}function T(l,_){1&l&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"userManagement.controls.lastName.errors.required")," "))}function O(l,_){1&l&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&l&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"userManagement.controls.displayName.errors.required")," "))}function y(l,_){1&l&&(t.TgZ(0,"mat-form-field",2)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",10),t.qZA()),2&l&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"userManagement.controls.phone.label")))}let U=((p=class{constructor(_,g){this.rootFormGroup=_,this.themeService=g,this.isDarkMode=this.themeService.darkMode$}ngOnInit(){this.rootForm=this.rootFormGroup.control,this.rootFormGroup.ngSubmit.subscribe(()=>{this.rootForm.markAllAsTouched()})}controlExists(_){return null!==this.rootForm.get(_)}isRequired(_){return!!this.rootForm.get(_)?.hasValidator(n.kI.required)}}).\u0275fac=function(_){return new(_||p)(t.Y36(n.sg),t.Y36(C.F))},p.\u0275cmp=t.Xpm({type:p,selectors:[["df-profile-details"]],standalone:!0,features:[t.jDz],decls:37,vars:31,consts:[["name","user-details-section",3,"formGroup"],["formGroupName","profileDetailsGroup"],["appearance","outline"],["matInput","","type","text","formControlName","username"],[4,"ngIf"],["matInput","","type","email","formControlName","email"],["matInput","","type","text","formControlName","firstName"],["matInput","","formControlName","lastName"],["matInput","","formControlName","name"],["appearance","outline",4,"ngIf"],["matInput","","formControlName","phone"]],template:function(_,g){if(1&_&&(t.ynx(0,0),t.ALo(1,"async"),t.ynx(2,1),t.TgZ(3,"mat-form-field",2)(4,"mat-label"),t._uU(5),t.ALo(6,"transloco"),t.ALo(7,"transloco"),t.qZA(),t._UZ(8,"input",3),t.YNc(9,h,3,3,"mat-error",4),t.YNc(10,A,3,3,"mat-error",4),t.qZA(),t.TgZ(11,"mat-form-field",2)(12,"mat-label"),t._uU(13),t.ALo(14,"transloco"),t.qZA(),t._UZ(15,"input",5),t.YNc(16,o,3,3,"mat-error",4),t.YNc(17,e,3,3,"mat-error",4),t.qZA(),t.TgZ(18,"mat-form-field",2)(19,"mat-label"),t._uU(20),t.ALo(21,"transloco"),t.qZA(),t._UZ(22,"input",6),t.YNc(23,L,3,3,"mat-error",4),t.qZA(),t.TgZ(24,"mat-form-field",2)(25,"mat-label"),t._uU(26),t.ALo(27,"transloco"),t.qZA(),t._UZ(28,"input",7),t.YNc(29,T,3,3,"mat-error",4),t.qZA(),t.TgZ(30,"mat-form-field",2)(31,"mat-label"),t._uU(32),t.ALo(33,"transloco"),t.qZA(),t._UZ(34,"input",8),t.YNc(35,O,3,3,"mat-error",4),t.qZA(),t.YNc(36,y,5,3,"mat-form-field",9),t.BQk()()),2&_){let Z,D,M,x,N,K,b;t.Tol(t.lcZ(1,17,g.isDarkMode)?"dark-theme":""),t.Q6J("formGroup",g.rootForm),t.xp6(5),t.AsE("",t.lcZ(6,19,"userManagement.controls.username.altLabel"),"",g.isRequired("profileDetailsGroup.username")?"":" "+t.lcZ(7,21,"userManagement.controls.username.optional"),""),t.xp6(4),t.Q6J("ngIf",null==(Z=g.rootForm.get("profileDetailsGroup.username"))||null==Z.errors?null:Z.errors.required),t.xp6(1),t.Q6J("ngIf",null==(D=g.rootForm.get("profileDetailsGroup.username"))||null==D.errors?null:D.errors.minlength),t.xp6(3),t.hij(" ",t.lcZ(14,23,"userManagement.controls.email.label"),""),t.xp6(3),t.Q6J("ngIf",(null==(M=g.rootForm.get("profileDetailsGroup.email"))||null==M.errors?null:M.errors.email)&&!(null!=(M=g.rootForm.get("profileDetailsGroup.email"))&&null!=M.errors&&M.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null!=(x=g.rootForm.get("profileDetailsGroup.email"))&&null!=x.errors&&x.errors.email)&&(null==(x=g.rootForm.get("profileDetailsGroup.email"))||null==x.errors?null:x.errors.required)),t.xp6(3),t.hij(" ",t.lcZ(21,25,"userManagement.controls.firstName.label"),""),t.xp6(3),t.Q6J("ngIf",null==(N=g.rootForm.get("profileDetailsGroup.firstName"))||null==N.errors?null:N.errors.required),t.xp6(3),t.Oqu(t.lcZ(27,27,"userManagement.controls.lastName.label")),t.xp6(3),t.Q6J("ngIf",null==(K=g.rootForm.get("profileDetailsGroup.lastName"))||null==K.errors?null:K.errors.required),t.xp6(3),t.Oqu(t.lcZ(33,29,"userManagement.controls.displayName.label")),t.xp6(3),t.Q6J("ngIf",null==(b=g.rootForm.get("profileDetailsGroup.name"))||null==b.errors?null:b.errors.required),t.xp6(1),t.Q6J("ngIf",g.controlExists("profileDetailsGroup.phone"))}},dependencies:[u.lN,u.KE,u.hX,u.TO,f.c,f.Nt,n.u5,n.Fj,n.JJ,n.JL,n.UX,n.sg,n.u,n.x0,d.Ot,m.O5,m.Ov],encapsulation:2}),p);U=(0,c.gn)([(0,E.c)({checkProperties:!0})],U)},31033:(R,v,a)=>{a.d(v,{U:()=>B});var T,c=a(97582),m=a(56223),n=a(32296),u=a(25313),f=a(2032),d=a(45597),E=a(3305),t=a(24630),C=a(90590),p=a(42346),h=a(96814),A=a(78791),o=a(65879),e=a(23680),L=a(64170);function O(r,s){1&r&&(o.TgZ(0,"mat-header-cell"),o._uU(1),o.ALo(2,"transloco"),o.qZA()),2&r&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"roles.app")," "))}function y(r,s){if(1&r&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&r){const i=s.$implicit;o.Q6J("value",i.name),o.xp6(1),o.hij(" ",i.name," ")}}function U(r,s){if(1&r&&(o.TgZ(0,"mat-cell",12)(1,"mat-form-field",13)(2,"mat-label"),o._uU(3),o.ALo(4,"transloco"),o.qZA(),o._UZ(5,"input",14),o.TgZ(6,"mat-autocomplete",15,16),o.YNc(8,y,2,2,"mat-option",17),o.qZA()()()),2&r){const i=s.index,P=o.MAs(7),I=o.oxw();o.Q6J("formGroupName",i),o.xp6(3),o.Oqu(o.lcZ(4,4,"roles.app")),o.xp6(2),o.Q6J("matAutocomplete",P),o.xp6(3),o.Q6J("ngForOf",I.availableApps)}}function l(r,s){1&r&&(o.TgZ(0,"mat-header-cell"),o._uU(1),o.ALo(2,"transloco"),o.qZA()),2&r&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"roles.role")," "))}function _(r,s){if(1&r&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&r){const i=s.$implicit;o.Q6J("value",i.name),o.xp6(1),o.hij(" ",i.name," ")}}function g(r,s){if(1&r&&(o.TgZ(0,"mat-cell",12)(1,"mat-form-field",13)(2,"mat-label"),o._uU(3),o.ALo(4,"transloco"),o.qZA(),o._UZ(5,"input",19),o.TgZ(6,"mat-autocomplete",15,16),o.YNc(8,_,2,2,"mat-option",17),o.qZA()()()),2&r){const i=s.index,P=o.MAs(7),I=o.oxw();o.Q6J("formGroupName",i),o.xp6(3),o.Oqu(o.lcZ(4,4,"roles.role")),o.xp6(2),o.Q6J("matAutocomplete",P),o.xp6(3),o.Q6J("ngForOf",I.roles)}}function Z(r,s){if(1&r){const i=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(i);const I=o.oxw(2);return o.KtG(I.add())}),o.ALo(1,"transloco"),o._UZ(2,"fa-icon",22),o.qZA()}if(2&r){const i=o.oxw(2);o.uIk("aria-label",o.lcZ(1,2,"newEntry")),o.xp6(2),o.Q6J("icon",i.faPlus)}}function D(r,s){if(1&r&&(o.TgZ(0,"mat-header-cell"),o.YNc(1,Z,3,4,"button",20),o.qZA()),2&r){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.showAddButton)}}function M(r,s){if(1&r){const i=o.EpF();o.TgZ(0,"mat-cell",12)(1,"button",23),o.NdJ("click",function(){const w=o.CHM(i).index,k=o.oxw();return o.KtG(k.remove(w))}),o._UZ(2,"fa-icon",24),o.qZA()()}if(2&r){const i=s.index,P=o.oxw();o.Q6J("formGroupName",i),o.xp6(2),o.Q6J("icon",P.faTrashCan)}}function x(r,s){1&r&&o._UZ(0,"mat-header-row")}function N(r,s){1&r&&o._UZ(0,"mat-row")}function K(r,s){1&r&&(o.TgZ(0,"tr",25)(1,"td",26),o._uU(2),o.ALo(3,"transloco"),o.qZA()()),2&r&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"roles.noRoles")," "))}const b=function(r,s){return{assigned:r,total:s}};let B=((T=class{constructor(s){this.rootFormGroup=s,this.apps=[],this.roles=[],this.displayedColumns=["app","role","actions"],this.faTrashCan=C.Vui,this.faPlus=C.r8p}ngOnInit(){this.rootForm=this.rootFormGroup.control,this.rootFormGroup.ngSubmit.subscribe(()=>{this.rootForm.markAllAsTouched()}),this.appRoles=this.rootForm.get("appRoles"),this.updateDataSource()}updateDataSource(){this.dataSource=new u.by(this.appRoles.controls)}get availableApps(){return this.apps.filter(s=>!this.appRoles.value.find(i=>i.app===s.name))}get showAddButton(){return this.appRoles.length<this.apps.length}get assignedApps(){return this.apps.length-this.appRoles.length}add(){this.appRoles.push(new m.cw({app:new m.NI("",m.kI.required),role:new m.NI("",m.kI.required)})),this.updateDataSource()}remove(s){this.appRoles.removeAt(s),this.updateDataSource()}}).\u0275fac=function(s){return new(s||T)(o.Y36(m.sg))},T.\u0275cmp=o.Xpm({type:T,selectors:[["df-user-app-roles"]],inputs:{apps:"apps",roles:"roles"},standalone:!0,features:[o.jDz],decls:25,vars:14,consts:[[1,"app-roles-keys-accordion"],[3,"formGroup"],["formArrayName","appRoles"],[3,"dataSource"],["matColumnDef","app"],[4,"matHeaderCellDef"],[3,"formGroupName",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"formGroupName"],["subscriptSizing","dynamic"],["matInput","","formControlName","app",3,"matAutocomplete"],["requireSelection",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","formControlName","role",3,"matAutocomplete"],["mat-mini-fab","","color","primary","type","button",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","type","button",3,"click"],["size","xl",3,"icon"],["mat-icon-button","","type","button",3,"click"],["size","xs",3,"icon"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(s,i){1&s&&(o.TgZ(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title"),o._uU(5),o.ALo(6,"transloco"),o.qZA(),o.TgZ(7,"mat-panel-description"),o._uU(8),o.ALo(9,"transloco"),o.qZA()(),o.ynx(10,1)(11,2),o.TgZ(12,"mat-table",3),o.ynx(13,4),o.YNc(14,O,3,3,"mat-header-cell",5),o.YNc(15,U,9,6,"mat-cell",6),o.BQk(),o.ynx(16,7),o.YNc(17,l,3,3,"mat-header-cell",5),o.YNc(18,g,9,6,"mat-cell",6),o.BQk(),o.ynx(19,8),o.YNc(20,D,2,1,"mat-header-cell",5),o.YNc(21,M,3,2,"mat-cell",6),o.BQk(),o.YNc(22,x,1,0,"mat-header-row",9),o.YNc(23,N,1,0,"mat-row",10),o.YNc(24,K,4,3,"tr",11),o.qZA(),o.BQk()(),o.qZA()()()),2&s&&(o.xp6(5),o.hij(" ",o.lcZ(6,6,"roles.label"),""),o.xp6(3),o.Oqu(o.xi3(9,8,"roles.appRoleAssigned",o.WLB(11,b,i.apps.length-i.availableApps.length,i.apps.length))),o.xp6(2),o.Q6J("formGroup",i.rootForm),o.xp6(2),o.Q6J("dataSource",i.dataSource),o.xp6(10),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[m.u5,m.Fj,m.JJ,m.JL,m.UX,m.sg,m.u,m.x0,m.CE,t.Bb,t.XC,e.ey,t.ZL,n.ot,n.RK,n.nh,u.p0,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,u.Ee,f.c,f.Nt,L.KE,L.hX,d.uH,d.BN,E.To,E.pp,E.ib,E.yz,E.yK,E.u4,p.Ot,h.O5,h.ax],styles:[".app-roles-accordion[_ngcontent-%COMP%]{padding:16px 0}.mat-column-actions[_ngcontent-%COMP%]{max-width:10%}"]}),T);B=(0,c.gn)([(0,A.c)({checkProperties:!0})],B)},73998:(R,v,a)=>{a.d(v,{x:()=>y});var O,c=a(97582),m=a(65879),n=a(56223),u=a(92418),f=a(62651),d=a(42281),E=a(90590),t=a(78791),C=a(94664),p=a(22096),h=a(65763),A=a(72246),o=a(81896),e=a(75911),L=a(49787),T=a(34909);let y=((O=class{constructor(l,_,g,Z,D){this.fb=l,this.activatedRoute=_,this.systemConfigDataService=g,this.breakpointService=Z,this.paywallService=D,this.loginAttribute="email",this.faEnvelope=E.FU$,this.type="create",this.isSmallScreen=this.breakpointService.isSmallScreen,this.alertMsg="",this.showAlert=!1,this.alertType="error",this.accessByTabs=[{control:"apps"},{control:"users"},{control:"services"},{control:"apidocs",label:"api-docs"},{control:"schema/data",label:"schema"},{control:"files"},{control:"scripts"},{control:"config"},{control:"packages",label:"package-manager"},{control:"limits"},{control:"scheduler"}],this.themeService=(0,m.f3M)(h.F),this.snackbarService=(0,m.f3M)(A.w),this.isDarkMode=this.themeService.darkMode$,this.userForm=this.fb.group({profileDetailsGroup:this.fb.group({username:["",n.kI.minLength(6)],email:["",n.kI.email],firstName:[""],lastName:[""],name:["",n.kI.required],phone:[""]}),isActive:[!0],tabs:this.buildTabs(),lookupKeys:this.fb.array([],[d.E]),appRoles:this.fb.array([])})}get cancelRoute(){let l=`/${f.Z.ADMIN_SETTINGS}/`;return"admins"===this.userType&&(l+=f.Z.ADMINS),"users"===this.userType&&(l+=f.Z.USERS),l}ngOnInit(){this.paywallService.activatePaywall("limit").pipe((0,C.w)(l=>l?this.paywallService.activatePaywall("service_report"):(0,p.of)(!1))).subscribe(l=>{l&&(this.accessByTabs=[])}),this.activatedRoute.data.subscribe(({type:l,data:_,apps:g,roles:Z})=>{_&&this.snackbarService.setSnackbarLastEle(_.name,!0),this.type=l,"users"===this.userType&&(this.apps=g.resource,this.roles=Z.resource),"edit"===l?(this.currentProfile=_,this.userForm.patchValue({profileDetailsGroup:{username:_.username,email:_.email,firstName:_.firstName,lastName:_.lastName,name:_.name,phone:_.phone},isActive:_.isActive}),this.userForm.addControl("setPassword",new n.NI(!1)),this.userForm.controls.setPassword.valueChanges.subscribe(D=>{D?this.addPasswordControls():this.removePasswordControls()}),"admins"===this.userType&&(_.isRootAdmin&&this.userForm.removeControl("tabs"),_.userToAppToRoleByUserId.length>0&&(this.changeAllTabs(!1),_.role.accessibleTabs.forEach(D=>{const M=this.tabs.controls.find(x=>x.value.name===D);M&&M.patchValue({checked:!0})}))),"users"===this.userType&&_.userToAppToRoleByUserId.length>0&&_.userToAppToRoleByUserId.forEach(D=>{this.userForm.controls.appRoles.push(new n.cw({app:new n.NI(this.apps.find(M=>M.id===D.appId)?.name,[n.kI.required]),role:new n.NI(this.roles.find(M=>M.id===D.roleId)?.name,[n.kI.required])}))}),_.lookupByUserId.length>0&&_.lookupByUserId.forEach(D=>{this.userForm.controls.lookupKeys.push(new n.cw({name:new n.NI(D.name,[n.kI.required]),value:new n.NI(D.value),private:new n.NI(D.private),id:new n.NI(D.id)}))})):(this.currentProfile={id:0},this.userForm.addControl("pass-invite",new n.NI("",[n.kI.required])),this.userForm.controls["pass-invite"].valueChanges.subscribe(D=>{"password"===D?this.addPasswordControls():this.removePasswordControls()}))}),this.systemConfigDataService.environment$.subscribe(l=>{this.loginAttribute=l.authentication.loginAttribute,"username"===this.loginAttribute?this.userForm.get("profileDetailsGroup.username")?.addValidators([n.kI.required]):this.userForm.get("profileDetailsGroup.email")?.addValidators([n.kI.required])})}addPasswordControls(){this.userForm.addControl("password",new n.NI("",[n.kI.required,n.kI.minLength(16)])),this.userForm.addControl("confirmPassword",new n.NI("",[n.kI.required,(0,u.t)("password")]))}removePasswordControls(){this.userForm.removeControl("password"),this.userForm.removeControl("confirmPassword")}get tabs(){return this.userForm.controls.tabs}selectAllTabs(l){this.changeAllTabs(l.checked)}changeAllTabs(l){this.tabs.controls.forEach(_=>{_.patchValue({checked:l})})}get allTabsSelected(){return this.tabs.controls.every(l=>l.value.checked)}buildTabs(){const l=this.accessByTabs.map(_=>this.fb.group({name:_.control,title:_.label||_.control,checked:!0}));return this.fb.array(l)}triggerAlert(l,_){this.alertType=l,this.alertMsg=_,this.showAlert=!0}}).\u0275fac=function(l){return new(l||O)(m.Y36(n.qu),m.Y36(o.gz),m.Y36(e.s),m.Y36(L.y),m.Y36(T._))},O.\u0275cmp=m.Xpm({type:O,selectors:[["df-user-details"]],decls:0,vars:0,template:function(l,_){},encapsulation:2}),O);y=(0,c.gn)([(0,t.c)({checkProperties:!0})],y)},54475:(R,v,a)=>{a.d(v,{n:()=>m});const c=[{regex:/Duplicate entry '([^']+)' for key 'user_email_unique'/,message:"alerts.duplicateEmail"}];function m(n){if(!n)return"alert.genericError";const u=c.find(f=>f.regex.test(n));return u?u.message:n}},92418:(R,v,a)=>{function c(m){return n=>{const u=n.parent;if(u){const f=u.get(m);if(f&&n.value!==f.value)return{doesNotMatch:!0}}return null}}a.d(v,{t:()=>c})},42281:(R,v,a)=>{a.d(v,{E:()=>m});var c=a(56223);const m=n=>{const u=new Map,f=n;function d(t){f.at(t).get("name")?.setErrors({notUnique:!0})}return f.controls.forEach((t,C)=>{if(!(t instanceof c.cw))return;const p=t.get("name");if(!p)return;const h=p.value;h&&(u.has(h)?(d(u.get(h)??0),d(C)):(u.set(h,C),function E(t){const p=f.at(t).get("name"),h=p?.errors;h&&(delete h.notUnique,p.setErrors(Object.keys(h).length?h:null))}(C)))}),null}}}]);