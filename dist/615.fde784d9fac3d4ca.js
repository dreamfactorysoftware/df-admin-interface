"use strict";(self.webpackChunkdf_admin_interface=self.webpackChunkdf_admin_interface||[]).push([[615],{30615:(O,f,o)=>{o.r(f),o.d(f,{DfCorsConfigDetailsComponent:()=>D});var e=o(31635),r=o(89417),_=o(88834),u=o(86600),c=o(32102),h=o(99631),C=o(82798),p=o(30450),E=o(33609),a=o(24784),M=o(82765),i=o(9709),d=o(49894),m=o(51425),T=o(99437),P=o(18810),I=o(60177),t=o(17705),v=o(18498),R=o(52868);o(36225);const y=function(A){return{label:A}};let D=class b{constructor(n,s,l,g,F){this.corsConfigService=n,this.router=s,this.activatedRoute=l,this.formBuilder=g,this.themeService=F,this.allMethodsSelected=!1,this.type="create",this.alertMsg="",this.showAlert=!1,this.alertType="error",this.isDarkMode=this.themeService.darkMode$,this.corsForm=this.formBuilder.group({path:["",r.k0.required],description:[""],origins:["",r.k0.required],headers:["",r.k0.required],exposedHeaders:["",r.k0.required],maxAge:[0,r.k0.required],methods:["",r.k0.required],credentials:[!0],enabled:[!0]})}ngOnInit(){this.activatedRoute.data.subscribe(n=>{this.type=n.type,"edit"===this.type&&(this.corsConfigToEdit=n.data,this.corsForm.setValue({path:this.corsConfigToEdit.path,description:this.corsConfigToEdit.description,origins:this.corsConfigToEdit.origin,headers:this.corsConfigToEdit.header,exposedHeaders:this.corsConfigToEdit.exposedHeader,maxAge:this.corsConfigToEdit.maxAge,methods:this.corsConfigToEdit.method,credentials:this.corsConfigToEdit.supportsCredentials,enabled:this.corsConfigToEdit.enabled}),5===this.corsConfigToEdit.method.length&&(this.allMethodsSelected=!0))})}triggerAlert(n,s){this.alertType=n,this.alertMsg=s,this.showAlert=!0}assemblePayload(){const n={path:this.corsForm.value.path,description:this.corsForm.value.description,origin:this.corsForm.value.origins,header:this.corsForm.value.headers,exposedHeader:this.corsForm.value.exposedHeaders,maxAge:this.corsForm.value.maxAge,method:this.corsForm.value.methods,supportsCredentials:this.corsForm.value.credentials,enabled:this.corsForm.value.enabled};return this.corsConfigToEdit?{...n,createdById:this.corsConfigToEdit.createdById,createdDate:this.corsConfigToEdit.createdDate,lastModifiedById:this.corsConfigToEdit.lastModifiedById,lastModifiedDate:this.corsConfigToEdit.lastModifiedDate}:n}onSubmit(){if(this.corsForm.valid)if(this.corsConfigToEdit){const n=this.assemblePayload();this.corsConfigService.update(this.corsConfigToEdit.id,n,{snackbarSuccess:"cors.alerts.updateSuccess"}).pipe((0,T.W)(s=>(this.triggerAlert("error",s.error.error.message),(0,P.$)(()=>new Error(s))))).subscribe(s=>{this.router.navigate(["../",s.id],{relativeTo:this.activatedRoute})})}else{const n=this.assemblePayload();this.corsConfigService.create({resource:[n]},{fields:"*",snackbarSuccess:"cors.alerts.createSuccess"}).pipe((0,T.W)(s=>(this.triggerAlert("error",s.error.error.context.resource[0].message),(0,P.$)(()=>new Error(s))))).subscribe(s=>{this.router.navigate(["../",s.resource[0].id],{relativeTo:this.activatedRoute})})}}onCancel(){this.router.navigate(["../"],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(s){return new(s||b)(t.rXU(a.Z$),t.rXU(v.Ix),t.rXU(v.nX),t.rXU(r.ok),t.rXU(R.n))}}static{this.\u0275cmp=t.VBU({type:b,selectors:[["df-cors-config-details"]],standalone:!0,features:[t.aNF],decls:53,vars:46,consts:[[3,"showAlert","alertType","alertClosed"],[1,"df-cors-config-container"],[1,"details-section",3,"formGroup","ngSubmit"],["appearance","outline","subscriptSizing","dynamic",1,"dynamic-width"],["matInput","","type","url","formControlName","path"],["matInput","","type","text","formControlName","origins"],["appearance","outline","subscriptSizing","dynamic",1,"full-width"],["rows","1","matInput","","type","text","formControlName","description"],["matInput","","type","text","formControlName","headers"],["matInput","","type","text","formControlName","exposedHeaders"],["matInput","","type","number","formControlName","maxAge"],["formControlName","methods","type","verb_multiple",1,"dynamic-width",3,"schema"],["color","primary","formControlName","credentials",1,"dynamic-width"],["color","primary","formControlName","enabled",1,"dynamic-width"],[1,"full-width","action-bar"],["type","button","mat-flat-button","",1,"cancel-btn",3,"click"],["mat-flat-button","","color","primary","type","submit",1,"save-btn"]],template:function(s,l){1&s&&(t.j41(0,"df-alert",0),t.bIt("alertClosed",function(){return l.showAlert=!1}),t.EFF(1),t.k0s(),t.j41(2,"div",1),t.nI1(3,"async"),t.j41(4,"h4"),t.EFF(5),t.nI1(6,"transloco"),t.k0s(),t.j41(7,"form",2),t.bIt("ngSubmit",function(){return l.onSubmit()}),t.j41(8,"mat-form-field",3)(9,"mat-label"),t.EFF(10),t.nI1(11,"transloco"),t.k0s(),t.nrm(12,"input",4),t.k0s(),t.j41(13,"mat-form-field",3)(14,"mat-label"),t.EFF(15),t.nI1(16,"transloco"),t.k0s(),t.nrm(17,"input",5),t.k0s(),t.j41(18,"mat-form-field",6)(19,"mat-label"),t.EFF(20),t.nI1(21,"transloco"),t.k0s(),t.nrm(22,"textarea",7),t.k0s(),t.j41(23,"mat-form-field",3)(24,"mat-label"),t.EFF(25),t.nI1(26,"transloco"),t.k0s(),t.nrm(27,"input",8),t.k0s(),t.j41(28,"mat-form-field",3)(29,"mat-label"),t.EFF(30),t.nI1(31,"transloco"),t.k0s(),t.nrm(32,"input",9),t.k0s(),t.j41(33,"mat-form-field",3)(34,"mat-label"),t.EFF(35),t.nI1(36,"transloco"),t.k0s(),t.nrm(37,"input",10),t.k0s(),t.nrm(38,"df-verb-picker",11),t.nI1(39,"transloco"),t.j41(40,"mat-slide-toggle",12),t.EFF(41),t.nI1(42,"transloco"),t.k0s(),t.j41(43,"mat-slide-toggle",13),t.EFF(44),t.nI1(45,"transloco"),t.k0s(),t.j41(46,"div",14)(47,"button",15),t.bIt("click",function(){return l.onCancel()}),t.EFF(48),t.nI1(49,"transloco"),t.k0s(),t.j41(50,"button",16),t.EFF(51),t.nI1(52,"transloco"),t.k0s()()()()),2&s&&(t.Y8G("showAlert",l.showAlert)("alertType",l.alertType),t.R7$(1),t.SpI(" ",l.alertMsg,"\n"),t.R7$(1),t.HbH(t.bMT(3,18,l.isDarkMode)?"dark-theme":""),t.R7$(3),t.JRh(t.bMT(6,20,"cors.pageSubtitle")),t.R7$(2),t.Y8G("formGroup",l.corsForm),t.R7$(3),t.JRh(t.bMT(11,22,"cors.formControls.path")),t.R7$(5),t.JRh(t.bMT(16,24,"cors.formControls.origins")),t.R7$(5),t.JRh(t.bMT(21,26,"cors.formControls.description")),t.R7$(5),t.JRh(t.bMT(26,28,"cors.formControls.headers")),t.R7$(5),t.JRh(t.bMT(31,30,"cors.formControls.exposedHeaders")),t.R7$(5),t.JRh(t.bMT(36,32,"cors.formControls.maxAge")),t.R7$(3),t.Y8G("schema",t.eq3(44,y,t.bMT(39,34,"cors.formControls.methods"))),t.R7$(3),t.SpI(" ",t.bMT(42,36,"cors.formControls.supportsCredentials")," "),t.R7$(3),t.SpI(" ",t.bMT(45,38,"cors.formControls.enabled")," "),t.R7$(4),t.SpI(" ",t.bMT(49,40,"cancel")," "),t.R7$(3),t.SpI(" ",t.bMT(52,42,"create"===l.type?"create":"update")," "))},dependencies:[r.X1,r.qT,r.me,r.Q0,r.BC,r.cb,r.j4,r.JD,r.YN,c.RG,c.rl,c.nJ,M.g7,h.fS,h.fg,C.Ve,u.Sy,p.mV,p.sG,_.Hl,_.$z,E.Kj,i.N,m.W,I.Jj],encapsulation:2})}};D=(0,e.Cg)([(0,d.d)({checkProperties:!0})],D)},51425:(O,f,o)=>{o.d(f,{W:()=>E});var e=o(17705),r=o(60177),_=o(88834),u=o(20060),c=o(45383);function h(a,M){if(1&a){const i=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(i);const m=e.XpG(2);return e.Njj(m.dismissAlert())}),e.j41(1,"fa-icon",6),e.EFF(2),e.k0s()()}if(2&a){const i=e.XpG(2);e.R7$(1),e.Y8G("icon",i.faXmark),e.R7$(1),e.JRh("alerts.close")}}function C(a,M){if(1&a&&(e.j41(0,"div",1),e.nrm(1,"fa-icon",2),e.j41(2,"span",3),e.SdG(3),e.k0s(),e.DNE(4,h,3,2,"button",4),e.k0s()),2&a){const i=e.XpG();e.HbH(i.alertType),e.R7$(1),e.Y8G("icon",i.icon),e.R7$(3),e.Y8G("ngIf",i.dismissible)}}const p=["*"];let E=(()=>{class a{constructor(){this.alertType="success",this.showAlert=!1,this.dismissible=!0,this.alertClosed=new e.bkB,this.faXmark=c.Jyw}dismissAlert(){this.alertClosed.emit()}get icon(){switch(this.alertType){case"success":return c.SGM;case"error":return c.rfe;case"warning":return c.tUE;default:return c.iW_}}static{this.\u0275fac=function(d){return new(d||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["df-alert"]],inputs:{alertType:"alertType",showAlert:"showAlert",dismissible:"dismissible"},outputs:{alertClosed:"alertClosed"},standalone:!0,features:[e.aNF],ngContentSelectors:p,decls:1,vars:1,consts:[["class","alert-container",3,"class",4,"ngIf"],[1,"alert-container"],["aria-hidden","true",1,"alert-icon",3,"icon"],["role","alert",1,"alert-message"],["mat-icon-button","","class","dismiss-alert",3,"click",4,"ngIf"],["mat-icon-button","",1,"dismiss-alert",3,"click"],[3,"icon"]],template:function(d,m){1&d&&(e.NAR(),e.DNE(0,C,5,4,"div",0)),2&d&&e.Y8G("ngIf",m.showAlert)},dependencies:[r.bT,_.Hl,_.iY,u.dX,u.aY],styles:[".alert-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border:1px solid;border-radius:5px;box-shadow:0 0 5px #0003;color:#000}.alert-container[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{flex:1;padding:8px}.alert-container[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{padding:0 10px}.alert-container.success[_ngcontent-%COMP%]{border-color:#81c784;background-color:#c8e6c9}.alert-container.success[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#4caf50}.alert-container.error[_ngcontent-%COMP%]{border-color:#e57373;background-color:#ffcdd2}.alert-container.error[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#f44336}.alert-container.warning[_ngcontent-%COMP%]{border-color:#ffb74d;background-color:#ffe0b2}.alert-container.warning[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#ff9800}.alert-container.info[_ngcontent-%COMP%]{border-color:#64b5f6;background-color:#bbdefb}.alert-container.info[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{color:#2196f3}"]})}}return a})()}}]);